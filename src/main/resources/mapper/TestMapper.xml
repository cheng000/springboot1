<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.learn.springboot1.mapper.TestMapper">

    <resultMap id="QueryPerson1" type="java.util.Map">
        <result column="ID" property="id"/>
        <result column="NAME" property="name"/>
        <result column="AGE" property="age"/>
    </resultMap>
    <select id="queryPerson1" resultMap="QueryPerson1">
        select now(),a.id,a.name,a.age from person a where a.id = #{id}
    </select>

    <!--<resultMap id="QueryPerson2" type="java.util.Map">
        <result column="NAME" property="name"/>
    </resultMap>-->
    <select id="queryPerson2" resultType="String">
        select name from person where id = #{id}
    </select>

    <insert id="insertPerson" parameterType="java.util.List">
        insert into person
        (id,name,age)
        select
        A.* from (
        <foreach collection="list" item="item" index="index" separator="union all">
            select
            #{item.id} as id,
            #{item.name} as name,
            #{item.age} as age
            from dual
        </foreach>
        )A
    </insert>
</mapper>
